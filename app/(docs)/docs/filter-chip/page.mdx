import FilterChip from '@/components/ui/FilterChip';
import { FilterChipDemo, FilterChipInteractive, FilterChipDropdownDemo } from '@/components/docs/FilterChipShowcase';

# Filter Chip

Filter chips allow users to filter content by selecting one or more criteria. They are interactive elements that toggle between states.

---

## Overview

The `FilterChip` component provides:
- **Default state**: Unselected, ready to be clicked
- **Selected state**: Active filter with visual highlight
- **Multiple selected**: Shows a count badge when multiple options within that filter are selected
- **Disabled state**: Non-interactive, grayed out

---

## Preview

### States

<FilterChipDemo />

### Interactive Example

<FilterChipInteractive />

### Dropdown Example

<FilterChipDropdownDemo />

---

## Properties

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `children` | `ReactNode` | — | Primary chip label (e.g., "Report Type") |
| `value` | `string` | — | Selected parameter value |
| `selected` | `boolean` | `false` | Whether the chip is selected |
| `count` | `number` | — | Number of items selected if multiple |
| `disabled` | `boolean` | `false` | Disables interaction |
| `isOpen` | `boolean` | `false` | Controls chevron rotation (for dropdown) |
| `onClick` | `() => void` | — | Click handler for main area |
| `onClear` | `() => void` | — | Click handler for clear action |

---

## Specification

### Dimensions

| Property | Value |
|----------|-------|
| Height | `32px` |
| Padding | `0 12px` (`--space-3`) |
| Gap (internal) | `8px` (`--space-2`) |
| Border Radius | `9999px` (pill) |

### Tokens Used

| State | Background | Border | Text |
|-------|------------|--------|------|
| Default | `--bg-strong` | — | `--fg-subtle` |
| Hover | `--border-subtle` | — | `--fg-subtle` |
| Selected (Value) | `--bg-strong` | — | `--fg-accent` |
| Count Tag | `--bg-accent-subtle` | — | `--fg-accent` |

### Count Badge

| Property | Value |
|----------|-------|
| Min Width | `18px` |
| Height | `18px` |
| Background | `--fg-accent` |
| Text | `--fg-on-accent` |
| Font Size | `10px` |

---

## Usage

```tsx
import FilterChip from '@/components/ui/FilterChip';

// Basic (Default)
<FilterChip>Report Type</FilterChip>

// Selected (Single)
<FilterChip 
  selected 
  value="First Aid"
  onClear={() => handleClear()}
>
  Report Type
</FilterChip>

// Multiple Selected
<FilterChip 
  count={3}
  onClear={() => handleClear()}
>
  Project
</FilterChip>

// Disabled
<FilterChip disabled>Category</FilterChip>
```

---

## FilterChipDropdown

A convenience wrapper that combines `FilterChip` with `DropdownMenu` for the common use case of selecting from a list of options.

### Properties

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `label` | `string` | — | The chip label text |
| `options` | `DropdownOption[]` | — | Array of selectable options |
| `value` | `string \| null` | — | Currently selected value |
| `onChange` | `(value: string \| null) => void` | — | Called when selection changes |
| `disabled` | `boolean` | `false` | Disables interaction |

### DropdownOption Type

```ts
interface DropdownOption {
  value: string;
  label: string;
  disabled?: boolean;
}
```

### Usage

```tsx
import FilterChipDropdown from '@/components/ui/FilterChipDropdown';

const options = [
  { value: 'first-aid', label: 'First Aid' },
  { value: 'near-miss', label: 'Near miss' },
  { value: 'safety-audit', label: 'Safety audit' },
];

<FilterChipDropdown
  label="Report Type"
  options={options}
  value={selectedValue}
  onChange={setSelectedValue}
/>
```
