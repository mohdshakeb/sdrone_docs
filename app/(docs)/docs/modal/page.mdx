import Modal from '@/components/ui/Modal';
import { ListModalExample, InfoModalExample, ActionModalExample } from '@/components/docs/ModalShowcase';

# Modal

Modals are dialog overlays that focus user attention on a specific task or information, temporarily interrupting the main workflow.

<Section divider>

## Variants

### List Modal

Selection workflow where users choose from predefined options.

<Preview>
  <ListModalExample />
</Preview>

### Info Modal

Display important information or instructions that require acknowledgment.

<Preview>
  <InfoModalExample />
</Preview>

### Action Modal

Confirm destructive or significant actions before proceeding.

<Preview>
  <ActionModalExample />
</Preview>

</Section>

<Section divider>

## Properties

<PropsTable component="ListModalProps" />

### Info Modal Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `variant` | `'info'` | — | Modal type |
| `isOpen` | `boolean` | — | Controls visibility |
| `onClose` | `() => void` | — | Close callback |
| `title` | `string` | — | Modal title |
| `children` | `ReactNode` | — | Modal content |
| `dismissLabel` | `string` | `'OK'` | Dismiss button text |
| `showCloseButton` | `boolean` | `true` | Show X button |
| `size` | `'sm' \| 'md' \| 'lg'` | `'md'` | Modal width |

### Action Modal Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `variant` | `'action'` | — | Modal type |
| `isOpen` | `boolean` | — | Controls visibility |
| `onClose` | `() => void` | — | Close callback |
| `title` | `string` | — | Modal title |
| `children` | `ReactNode` | — | Modal content |
| `onConfirm` | `() => void` | — | Confirm callback |
| `confirmLabel` | `string` | `'Confirm'` | Confirm button text |
| `cancelLabel` | `string` | `'Cancel'` | Cancel button text |
| `confirmVariant` | `'primary' \| 'negative' \| 'positive'` | `'primary'` | Button variant |
| `showCloseButton` | `boolean` | `true` | Show X button |
| `size` | `'sm' \| 'md' \| 'lg'` | `'md'` | Modal width |

</Section>

<Section divider>

## Specification

### Sizes

| Size | Max Width | Use Case |
|------|-----------|----------|
| `sm` | 400px | Compact confirmations |
| `md` | 560px | Default, most common |
| `lg` | 720px | Content requiring more space |

</Section>

<Section>

## Usage

### List Modal

<CodeBlock language="tsx" filename="example.tsx">
```tsx
'use client';

import { useState } from 'react';
import Modal, { ModalListItem } from '@/components/ui/Modal';
import Button from '@/components/ui/Button';

export default function Example() {
  const [isOpen, setIsOpen] = useState(false);
  const [selectedType, setSelectedType] = useState('');

  const items: ModalListItem[] = [
    { value: 'near-miss', label: 'Near Miss / Hazard' },
    { value: 'first-aid', label: 'First Aid' },
    { value: 'incident', label: 'First Incident Report' },
  ];

  return (
    <>
      <Button onClick={() => setIsOpen(true)}>Report Incident</Button>

      <Modal
        variant="list"
        isOpen={isOpen}
        onClose={() => setIsOpen(false)}
        title="What are you reporting?"
        items={items}
        selectedValue={selectedType}
        onConfirm={(value) => {
          setSelectedType(value);
          setIsOpen(false);
        }}
      />
    </>
  );
}
```
</CodeBlock>

### Info Modal

<CodeBlock language="tsx" filename="info-modal.tsx">
```tsx
<Modal
  variant="info"
  isOpen={isOpen}
  onClose={() => setIsOpen(false)}
  title="Safety Guidelines"
>
  <p>All incidents must be reported within 24 hours...</p>
</Modal>
```
</CodeBlock>

### Action Modal

<CodeBlock language="tsx" filename="action-modal.tsx">
```tsx
<Modal
  variant="action"
  isOpen={isOpen}
  onClose={() => setIsOpen(false)}
  title="Delete Report"
  onConfirm={handleDelete}
  confirmLabel="Delete"
  confirmVariant="negative"
>
  <p>Are you sure? This action cannot be undone.</p>
</Modal>
```
</CodeBlock>

</Section>
